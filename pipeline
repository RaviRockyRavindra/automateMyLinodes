pipeline{
agent any
tools{
    git "git"
}

environment{
   username= '852535'
   imageName= 'httpd_may2nd'
   singleShot = "${username}/${imageName}"
}

stages{

  stage('git checkout'){
    git 'https://github.com/RaviRockyRavindra/automateMyLinodes.git'
  }

  stage('stage running for dev env')
  {

when{
   anyOf{ 
     expression{ BRANCH_NAME == "1tempbranch" }
     expression{ BRANCH_NAME == "Development"}
   }
  }

steps{
  echo "here we go in development"
}

  }


stage('testing on test env'){
when{
  not expression{
      BRANCH_NAME == "development" || BRANCH_NAME == "production"
  }
}

steps{
echo "here we go in testing env"
}
}

stage('prod env'){
when{
  allOf {
    expression{ BRANCH_NAME == "Production" }
    expression{ BUILD_NUMBER < 1000 }
  }
}
steps{
echo "inside the prod"
}

}



}
}


